# 系统启动方式说明

## 📌 当前使用：本地开发模式

系统目前配置为**本地开发模式**，适合日常开发和调试。

---

## 🚀 启动步骤

### 1. 启动后端
```bash
cd backend
.\start_local.bat
```
- 后端地址：http://localhost:8000
- API文档：http://localhost:8000/docs

### 2. 启动前端
```bash
cd frontend
npm run dev
```
- 前端地址：http://localhost:5173

### 3. 访问系统
打开浏览器访问：http://localhost:5173

---

## 🔄 切换到Docker模式（生产部署）

如果需要部署到服务器或使用Docker环境：

### 1. 停止本地后端
按 `Ctrl+C` 停止 `start_local.bat`

### 2. 启动Docker
```bash
docker-compose up -d
```

### 3. 修改前端配置
编辑 `frontend/vite.config.ts`：
```typescript
target: 'http://localhost:21810',  // 改为Docker后端端口
```

### 4. 重启前端
```bash
cd frontend
npm run dev
```

### 5. 访问系统
- 前端：http://localhost:5173
- 后端：http://localhost:21810

---

## 📊 两种模式对比

| 特性 | 本地开发模式 | Docker模式 |
|------|------------|-----------|
| **后端端口** | 8000 | 21810 |
| **启动方式** | start_local.bat | docker-compose up |
| **热重载** | ✅ 支持 | ❌ 需重启容器 |
| **调试** | ✅ 方便 | ⚠️ 较复杂 |
| **部署** | ❌ 不适合 | ✅ 推荐 |
| **环境一致性** | ⚠️ 依赖本地环境 | ✅ 完全一致 |

---

## ⚠️ 常见问题

### Q1: 为什么会出现500错误？
**A:** 检查前端配置的后端地址是否正确：
- 本地模式：`http://localhost:8000`
- Docker模式：`http://localhost:21810`

### Q2: 如何知道当前使用哪种模式？
**A:** 查看 `frontend/vite.config.ts` 中的 `target` 配置

### Q3: 可以同时运行两种模式吗？
**A:** 不建议，会导致端口冲突和数据不一致

---

## 💡 建议

- **日常开发**：使用本地开发模式（当前配置）
- **生产部署**：使用Docker模式
- **团队协作**：使用Docker模式确保环境一致

---

**最后更新：** 2025-12-25
