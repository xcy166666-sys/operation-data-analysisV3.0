# å¿«é€Ÿé…ç½®æŒ‡å—

## ğŸš€ ä¸‰ç§é…ç½®æ–¹å¼

### æ–¹å¼1ï¼šä½¿ç”¨é…ç½®è„šæœ¬ï¼ˆæ¨èï¼‰

#### Windows PowerShell

```powershell
# è¿›å…¥é¡¹ç›®ç›®å½•
cd operation-data-analysis

# è¿è¡Œé…ç½®è„šæœ¬
.\scripts\setup-env.ps1
```

è„šæœ¬ä¼šè‡ªåŠ¨ï¼š
- åˆ›å»º `.env` æ–‡ä»¶
- ç”Ÿæˆéšæœºæ•°æ®åº“å¯†ç 
- ç”ŸæˆéšæœºJWTå¯†é’¥
- å¼•å¯¼é…ç½®Difyå’ŒCORS

#### Linux/Mac

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd operation-data-analysis

# æ·»åŠ æ‰§è¡Œæƒé™
chmod +x scripts/setup-env.sh

# è¿è¡Œé…ç½®è„šæœ¬
./scripts/setup-env.sh
```

### æ–¹å¼2ï¼šæ‰‹åŠ¨å¤åˆ¶å’Œç¼–è¾‘ï¼ˆç®€å•ï¼‰

#### æ­¥éª¤1ï¼šå¤åˆ¶æ¨¡æ¿æ–‡ä»¶

**Windows PowerShell**ï¼š
```powershell
Copy-Item .env.example .env
```

**Linux/Mac**ï¼š
```bash
cp .env.example .env
```

#### æ­¥éª¤2ï¼šç¼–è¾‘é…ç½®æ–‡ä»¶

ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€ `.env` æ–‡ä»¶ï¼Œä¿®æ”¹ä»¥ä¸‹**å¿…éœ€é¡¹**ï¼š

```env
# âš ï¸ å¿…é¡»ä¿®æ”¹
POSTGRES_PASSWORD=your_secure_password_here        # æ”¹ä¸ºå¼ºå¯†ç 
JWT_SECRET=your_random_jwt_secret_key_here         # æ”¹ä¸ºéšæœºå­—ç¬¦ä¸²
```

#### æ­¥éª¤3ï¼šç”Ÿæˆéšæœºå¯†ç å’Œå¯†é’¥

**Windows PowerShell**ï¼š
```powershell
# ç”Ÿæˆéšæœºå¯†ç ï¼ˆ32ä½ï¼‰
-join ((65..90) + (97..122) + (48..57) | Get-Random -Count 32 | % {[char]$_})

# ç”ŸæˆJWTå¯†é’¥ï¼ˆ64ä½ï¼‰
-join ((65..90) + (97..122) + (48..57) | Get-Random -Count 64 | % {[char]$_})
```

**Linux/Mac**ï¼š
```bash
# ç”Ÿæˆéšæœºå¯†ç 
openssl rand -base64 24

# ç”ŸæˆJWTå¯†é’¥
openssl rand -hex 32
```

### æ–¹å¼3ï¼šä½¿ç”¨ç¯å¢ƒå˜é‡ï¼ˆé«˜çº§ï¼‰

å¦‚æœä½¿ç”¨Docker Composeï¼Œå¯ä»¥ç›´æ¥åœ¨ `docker-compose.yml` ä¸­è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œæˆ–ä½¿ç”¨å‘½ä»¤è¡Œï¼š

```bash
# è®¾ç½®ç¯å¢ƒå˜é‡
export POSTGRES_PASSWORD=your_password
export JWT_SECRET=your_secret

# å¯åŠ¨æœåŠ¡
docker-compose up -d
```

## ğŸ“‹ æœ€å°é…ç½®æ¸…å•

å¯¹äºå¿«é€Ÿæµ‹è¯•ï¼Œåªéœ€ä¿®æ”¹ä»¥ä¸‹ä¸¤é¡¹ï¼š

```env
POSTGRES_PASSWORD=your_password_here
JWT_SECRET=your_jwt_secret_here
```

å…¶ä»–é…ç½®å¯ä»¥ä½¿ç”¨é»˜è®¤å€¼ã€‚

## âœ… é…ç½®éªŒè¯

é…ç½®å®Œæˆåï¼Œæ£€æŸ¥ `.env` æ–‡ä»¶ï¼š

```bash
# Windows
Get-Content .env

# Linux/Mac
cat .env
```

ç¡®ä¿ï¼š
- âœ… `POSTGRES_PASSWORD` ä¸æ˜¯é»˜è®¤å€¼
- âœ… `JWT_SECRET` ä¸æ˜¯é»˜è®¤å€¼
- âœ… æ‰€æœ‰å¿…éœ€é¡¹éƒ½å·²é…ç½®

## ğŸ”§ ä¸‹ä¸€æ­¥

é…ç½®å®Œæˆåï¼Œç»§ç»­ï¼š

1. **å¯åŠ¨æœåŠ¡**
   ```bash
   docker-compose up -d
   ```

2. **åˆå§‹åŒ–æ•°æ®åº“**
   ```bash
   docker-compose exec backend alembic upgrade head
   ```

3. **åˆ›å»ºç®¡ç†å‘˜ç”¨æˆ·**
   ```bash
   docker-compose exec backend python scripts/create_admin.py
   ```

4. **è®¿é—®ç³»ç»Ÿ**
   - å‰ç«¯ï¼šhttp://localhost:80
   - APIæ–‡æ¡£ï¼šhttp://localhost:8000/docs

## ğŸ“š è¯¦ç»†æ–‡æ¡£

- [ç¯å¢ƒå˜é‡é…ç½®æŒ‡å—.md](./ç¯å¢ƒå˜é‡é…ç½®æŒ‡å—.md) - å®Œæ•´çš„ç¯å¢ƒå˜é‡è¯´æ˜
- [éƒ¨ç½²æŒ‡å—.md](./éƒ¨ç½²æŒ‡å—.md) - è¯¦ç»†éƒ¨ç½²æ­¥éª¤

